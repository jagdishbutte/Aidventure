import { GoogleGenerativeAI } from "@google/generative-ai";

  const apiKey = import.meta.env.VITE_GOOGLE_GEMINI_AI_API_KEY;
  const genAI = new GoogleGenerativeAI(apiKey);
  
  const model = genAI.getGenerativeModel({
    model: "gemini-1.5-flash",
  });
  
  const generationConfig = {
    temperature: 1,
    topP: 0.95,
    topK: 64,
    maxOutputTokens: 8192,
    responseMimeType: "application/json",
  };
  
    export const chatSession = model.startChat({
      generationConfig,
      history: [
        {
          role: "user",
          parts: [
            {text: "Generate Travel Plan for Location: Las Vegas, for 3 Days for Couple with a Cheap budget, Give me a Hotels options list with HotelName, Hotel address, Price, hotel image url, geo coordinates, rating, descriptions and suggest itinerary with placeName, Place Details, Place Image Url, Geo Coordinates, ticket Pricing, Time to travel each of the location for 3 days with each day plan with best time to visit in JSON format."},
          ],
        },
        {
          role: "model",
          parts: [
            {text: "```json\n{\n  \"hotelOptions\": [\n    {\n      \"hotelName\": \"The D Las Vegas\",\n      \"hotelAddress\": \"301 Fremont Street, Las Vegas, NV 89101\",\n      \"price\": \"$60-$100 per night\",\n      \"hotelImageUrl\": \"https://www.thed.com/media/images/header-images/the-d-las-vegas-hotel.jpg\",\n      \"geoCoordinates\": \"36.1699, -115.1423\",\n      \"rating\": 4.0,\n      \"description\": \"A downtown hotel with a retro vibe, offering affordable rooms, a casino, and a lively atmosphere.\"\n    },\n    {\n      \"hotelName\": \"Plaza Hotel & Casino\",\n      \"hotelAddress\": \"1 Main Street, Las Vegas, NV 89101\",\n      \"price\": \"$70-$120 per night\",\n      \"hotelImageUrl\": \"https://www.plazahotelcasino.com/media/images/header-images/plaza-hotel-casino-las-vegas.jpg\",\n      \"geoCoordinates\": \"36.1695, -115.1421\",\n      \"rating\": 3.5,\n      \"description\": \"A historic hotel on Fremont Street, known for its casino, dining options, and a central location.\"\n    },\n    {\n      \"hotelName\": \"Golden Nugget\",\n      \"hotelAddress\": \"129 E Fremont Street, Las Vegas, NV 89101\",\n      \"price\": \"$80-$150 per night\",\n      \"hotelImageUrl\": \"https://www.goldennugget.com/media/images/header-images/golden-nugget-las-vegas.jpg\",\n      \"geoCoordinates\": \"36.1698, -115.1417\",\n      \"rating\": 4.5,\n      \"description\": \"A luxurious hotel with a vibrant atmosphere, offering a casino, pool, and dining options.\"\n    }\n  ],\n  \"itinerary\": [\n    {\n      \"day\": 1,\n      \"plan\": [\n        {\n          \"time\": \"10:00 AM\",\n          \"placeName\": \"Fremont Street Experience\",\n          \"placeDetails\": \"A pedestrian-friendly street with a canopy of LED lights, street performers, and numerous casinos and restaurants.\",\n          \"placeImageUrl\": \"https://www.vegasexperience.com/media/images/header-images/fremont-street-experience-las-vegas.jpg\",\n          \"geoCoordinates\": \"36.1699, -115.1423\",\n          \"ticketPricing\": \"Free\",\n          \"timeToTravel\": \"1-2 hours\"\n        },\n        {\n          \"time\": \"12:00 PM\",\n          \"placeName\": \"Four Queens Casino\",\n          \"placeDetails\": \"A downtown casino with a classic atmosphere, offering slots, table games, and dining options.\",\n          \"placeImageUrl\": \"https://www.fourqueens.com/media/images/header-images/four-queens-casino-las-vegas.jpg\",\n          \"geoCoordinates\": \"36.1697, -115.1420\",\n          \"ticketPricing\": \"Free\",\n          \"timeToTravel\": \"1 hour\"\n        },\n        {\n          \"time\": \"02:00 PM\",\n          \"placeName\": \"Binion's Gambling Hall\",\n          \"placeDetails\": \"A historic casino with a renowned poker room, offering a variety of gaming options.\",\n          \"placeImageUrl\": \"https://www.binions.com/media/images/header-images/binions-gambling-hall-las-vegas.jpg\",\n          \"geoCoordinates\": \"36.1694, -115.1418\",\n          \"ticketPricing\": \"Free\",\n          \"timeToTravel\": \"1 hour\"\n        },\n        {\n          \"time\": \"05:00 PM\",\n          \"placeName\": \"El Cortez Hotel & Casino\",\n          \"placeDetails\": \"A historic hotel and casino known for its vintage charm and affordable dining options.\",\n          \"placeImageUrl\": \"https://www.elcortezhotelcasino.com/media/images/header-images/el-cortez-hotel-casino-las-vegas.jpg\",\n          \"geoCoordinates\": \"36.1692, -115.1416\",\n          \"ticketPricing\": \"Free\",\n          \"timeToTravel\": \"1 hour\"\n        },\n        {\n          \"time\": \"07:00 PM\",\n          \"placeName\": \"The D Las Vegas\",\n          \"placeDetails\": \"A downtown hotel with a retro vibe, offering a variety of dining options and live entertainment.\",\n          \"placeImageUrl\": \"https://www.thed.com/media/images/header-images/the-d-las-vegas-hotel.jpg\",\n          \"geoCoordinates\": \"36.1699, -115.1423\",\n          \"ticketPricing\": \"Free\",\n          \"timeToTravel\": \"2 hours\"\n        }\n      ]\n    },\n    {\n      \"day\": 2,\n      \"plan\": [\n        {\n          \"time\": \"10:00 AM\",\n          \"placeName\": \"The Strip\",\n          \"placeDetails\": \"The main boulevard of Las Vegas, home to numerous casinos, hotels, and attractions.\",\n          \"placeImageUrl\": \"https://www.visitlasvegas.com/media/images/header-images/the-strip-las-vegas.jpg\",\n          \"geoCoordinates\": \"36.1146, -115.1729\",\n          \"ticketPricing\": \"Free\",\n          \"timeToTravel\": \"3 hours\"\n        },\n        {\n          \"time\": \"01:00 PM\",\n          \"placeName\": \"Bellagio Fountains\",\n          \"placeDetails\": \"A water and light show that takes place every 30 minutes.\",\n          \"placeImageUrl\": \"https://www.bellagio.com/media/images/header-images/bellagio-fountains-las-vegas.jpg\",\n          \"geoCoordinates\": \"36.1151, -115.1725\",\n          \"ticketPricing\": \"Free\",\n          \"timeToTravel\": \"1 hour\"\n        },\n        {\n          \"time\": \"02:00 PM\",\n          \"placeName\": \"Caesars Palace\",\n          \"placeDetails\": \"A Roman-themed casino and hotel with a variety of dining options, entertainment, and attractions.\",\n          \"placeImageUrl\": \"https://www.caesars.com/media/images/header-images/caesars-palace-las-vegas.jpg\",\n          \"geoCoordinates\": \"36.1148, -115.1734\",\n          \"ticketPricing\": \"Free\",\n          \"timeToTravel\": \"2 hours\"\n        },\n        {\n          \"time\": \"05:00 PM\",\n          \"placeName\": \"The LINQ Promenade\",\n          \"placeDetails\": \"An outdoor shopping and dining district with a variety of attractions, including the High Roller observation wheel.\",\n          \"placeImageUrl\": \"https://www.thelinq.com/media/images/header-images/the-linq-promenade-las-vegas.jpg\",\n          \"geoCoordinates\": \"36.1153, -115.1728\",\n          \"ticketPricing\": \"Free\",\n          \"timeToTravel\": \"2 hours\"\n        },\n        {\n          \"time\": \"07:00 PM\",\n          \"placeName\": \"The Venetian\",\n          \"placeDetails\": \"A luxurious hotel and casino with a Venetian theme, offering a variety of dining options, entertainment, and shopping.\",\n          \"placeImageUrl\": \"https://www.venetian.com/media/images/header-images/the-venetian-las-vegas.jpg\",\n          \"geoCoordinates\": \"36.1150, -115.1720\",\n          \"ticketPricing\": \"Free\",\n          \"timeToTravel\": \"2 hours\"\n        }\n      ]\n    },\n    {\n      \"day\": 3,\n      \"plan\": [\n        {\n          \"time\": \"10:00 AM\",\n          \"placeName\": \"Red Rock Canyon National Conservation Area\",\n          \"placeDetails\": \"A scenic area with red rock formations, hiking trails, and scenic drives.\",\n          \"placeImageUrl\": \"https://www.nps.gov/redr/planyourvisit/images/RedRockCanyon_2023_web.jpg\",\n          \"geoCoordinates\": \"36.2124, -115.3209\",\n          \"ticketPricing\": \"$15 per vehicle\",\n          \"timeToTravel\": \"4 hours\"\n        },\n        {\n          \"time\": \"02:00 PM\",\n          \"placeName\": \"Hoover Dam\",\n          \"placeDetails\": \"A massive dam on the Colorado River, offering tours and scenic views.\",\n          \"placeImageUrl\": \"https://www.usbr.gov/lc/hooverdam/images/gallery/hoover_dam_002.jpg\",\n          \"geoCoordinates\": \"36.0075, -114.7866\",\n          \"ticketPricing\": \"Free\",\n          \"timeToTravel\": \"3 hours\"\n        },\n        {\n          \"time\": \"07:00 PM\",\n          \"placeName\": \"The Cosmopolitan\",\n          \"placeDetails\": \"A stylish hotel and casino with a variety of dining options, entertainment, and nightlife.\",\n          \"placeImageUrl\": \"https://www.cosmopolitanlasvegas.com/media/images/header-images/the-cosmopolitan-las-vegas.jpg\",\n          \"geoCoordinates\": \"36.1152, -115.1726\",\n          \"ticketPricing\": \"Free\",\n          \"timeToTravel\": \"2 hours\"\n        }\n      ]\n    }\n  ]\n}\n```\n\n**Explanation:**\n\n* **hotelOptions:** This section provides a list of budget-friendly hotels in Las Vegas. You can find information about the hotel name, address, price range, images, geographic coordinates, ratings, and brief descriptions.\n* **itinerary:** This section outlines a 3-day itinerary for a couple visiting Las Vegas on a budget. \n* **day:** Each day is separated into its own section, allowing you to easily follow the schedule.\n* **plan:** Each day's plan includes a list of activities with their:\n    * **time:** The suggested time to visit each place.\n    * **placeName:** The name of the attraction.\n    * **placeDetails:** A brief description of the attraction.\n    * **placeImageUrl:** A link to an image of the attraction.\n    * **geoCoordinates:** The geographic coordinates for the location.\n    * **ticketPricing:** The cost of admission, if any.\n    * **timeToTravel:**  An estimate of how long you might spend at each location.\n\n**Tips for a Cheap Vegas Trip:**\n\n* **Travel during the off-season:** Visiting Las Vegas during the week or during the shoulder seasons (spring and fall) can result in lower prices for flights, hotels, and attractions.\n* **Book in advance:** Booking flights and hotels well in advance can help you secure better deals.\n* **Take advantage of free activities:** Las Vegas offers numerous free activities, including walking along the Strip, watching the Bellagio Fountains, and enjoying the Fremont Street Experience.\n* **Eat at budget-friendly restaurants:** There are many affordable dining options in Las Vegas, including buffets, food courts, and local restaurants.\n* **Bring your own drinks:** You can save money on drinks by bringing your own water bottles and snacks.\n* **Consider staying off the Strip:** Hotels off the Strip often offer cheaper rates and are still within easy access to the main attractions.\n\nThis itinerary can be customized to fit your interests and preferences. You can add or remove activities, adjust the timings, and explore other budget-friendly options in Las Vegas. Remember to have fun and enjoy your trip! \n"},
          ],
        },
      ],
    });
  
    // const result = await chatSession.sendMessage();
    // console.log(result.response.text());
  